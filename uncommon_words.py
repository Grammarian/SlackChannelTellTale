"""
This module provides a single function to calculate uncommon words

>>> uncommon_words(u"Google has decided to drop its long-time mantra of 'Do no evil' ")
[u'google', u'decided', u'drop', u'mantra', u'evil']
>>> uncommon_words("Another very interesting use case is to convert the entire string to lower case except the first character")
['interesting', 'convert', 'entire', 'string', 'lower', 'character']
>>> uncommon_words("Creative Troubleshooting Suite: To outline the creative issues we often troubleshoot and create testing suite to help mitigate this troubleshooting")
['creative', 'troubleshooting', 'suite', 'outline', 'issues', 'troubleshoot', 'create', 'testing', 'mitigate']
>>> uncommon_words("Along with battery life, photography is one of the main reasons why people choose one phone over another")
['battery', 'photography', 'reasons', 'choose', 'phone']
>>> uncommon_words("#dev-team-apac Communication & collaboration between SHA and SYD dev teams", ignore=["dev"])
['team', 'apac', 'communication', 'collaboration', 'sha', 'syd', 'teams']
"""

import string
import toolbox


def uncommon_words(s, ignore=[]):
    """
    Return the collection of uncommon words in the given string.
    """
    without_punctuation = "".join([x for x in s.replace("-", " ") if x not in string.punctuation])
    unique_lowercase_words = toolbox.ordered_distinct(without_punctuation.lower().split())
    other_words_to_ignore = set(ignore)
    return [x for x in unique_lowercase_words if x not in common_words and x not in other_words_to_ignore]


# 200 most common words in the English language, plus prepositions, quantitatives, conjunctions, indicatives...
# original source: http://www.wordfrequency.info/
common_words = {
    'a',
    'about',
    'above',
    'abroad',
    'absolutely',
    'according',
    'accurately',
    'across',
    'actively',
    'actually',
    'addition',
    'after',
    'afterward',
    'again',
    'against',
    'ago',
    'ah',
    'ahead',
    'alike',
    'all',
    'allegedly',
    'almost',
    'alone',
    'along',
    'alongside',
    'already',
    'also',
    'although',
    'altogether',
    'always',
    'am',
    'amid',
    'among',
    'and',
    'and/or',
    'annually',
    'another',
    'any',
    'anybody',
    'anymore',
    'anyone',
    'anything',
    'anyway',
    'anywhere',
    'apart',
    'apparently',
    'approximately',
    'around',
    'as',
    'aside',
    'ask',
    'at',
    'atop',
    'automatically',
    'away',
    'back',
    'badly',
    'barely',
    'basically',
    'be',
    'because',
    'become',
    'before',
    'begin',
    'behalf',
    'behind',
    'below',
    'beneath',
    'beside',
    'besides',
    'best',
    'better',
    'between',
    'beyond',
    'big',
    'billion',
    'bit',
    'both',
    'briefly',
    'but',
    'by',
    'call',
    'can',
    'carefully',
    'case',
    'certainly',
    'charge',
    'child',
    'clearly',
    'close',
    'closely',
    'come',
    'commonly',
    'company',
    'completely',
    'concerning',
    'consequently',
    'considerably',
    'consistently',
    'constantly',
    'correctly',
    'could',
    'country',
    'course',
    'currently',
    'daily',
    'day',
    'deep',
    'deeply',
    'definitely',
    'deliberately',
    'depending',
    'desperately',
    'despite',
    'differently',
    'directly',
    'do',
    'down',
    'downtown',
    'dozen',
    'dramatically',
    'due',
    'during',
    'each',
    'early',
    'easily',
    'easy',
    'economically',
    'effectively',
    'eight',
    'eighth',
    'either',
    'eleven',
    'else',
    'elsewhere',
    'emotionally',
    'enough',
    'entirely',
    'equally',
    'especially',
    'essentially',
    'etc',
    'even',
    'eventually',
    'ever',
    'every',
    'everybody',
    'everyone',
    'everything',
    'everywhere',
    'exactly',
    'except',
    'exclusively',
    'extremely',
    'fairly',
    'family',
    'far',
    'fast',
    'favor',
    'feel',
    'few',
    'fewer',
    'fifteen',
    'fifth',
    'fifty',
    'finally',
    'find',
    'firmly',
    'first',
    'five',
    'for',
    'forever',
    'former',
    'formerly',
    'forth',
    'fortunately',
    'forty',
    'forward',
    'four',
    'fourth',
    'frankly',
    'freely',
    'frequently',
    'from',
    'front',
    'fully',
    'furthermore',
    'general',
    'generally',
    'gently',
    'get',
    'give',
    'go',
    'good',
    'gradually',
    'great',
    'greatly',
    'group',
    'ha',
    'half',
    'halfway',
    'hand',
    'happily',
    'hard',
    'hardly',
    'have',
    'has',
    'he',
    'hear',
    'heavily',
    'hello',
    'help',
    'hence',
    'her',
    'here',
    'hers',
    'herself',
    'hey',
    'hi',
    'high',
    'highly',
    'him',
    'himself',
    'his',
    'historically',
    'hmm',
    'home',
    'honestly',
    'hopefully',
    'how',
    'however',
    'huh',
    'hundred',
    'i',
    'ie',
    'if',
    'immediately',
    'importantly',
    'in',
    'including',
    'increasingly',
    'incredibly',
    'indeed',
    'inevitably',
    'initially',
    'inside',
    'instantly',
    'instead',
    'into',
    'ironically',
    'is',
    'it',
    'its',
    'itself',
    'just',
    'keep',
    'kind',
    'know',
    'largely',
    'last',
    'late',
    'lately',
    'later',
    'latter',
    'least',
    'leave',
    'legally',
    'less',
    'let',
    'life',
    'light',
    'lightly',
    'like',
    'likely',
    'likewise',
    'literally',
    'little',
    'long',
    'look',
    'lots',
    'loud',
    'low',
    'main',
    'mainly',
    'make',
    'man',
    'many',
    'matter',
    'may',
    'maybe',
    'me',
    'mean',
    'meanwhile',
    'mentally',
    'merely',
    'might',
    'million',
    'mine',
    'mm',
    'more',
    'moreover',
    'most',
    'mostly',
    'much',
    'my',
    'myself', "n't", 'nationwide',
    'naturally',
    'near',
    'nearby',
    'nearly',
    'necessarily',
    'need',
    'neither',
    'never',
    'nevertheless',
    'new',
    'newly',
    'next',
    'nine',
    'no',
    'nobody',
    'none',
    'nonetheless',
    'nor',
    'normally',
    'not',
    'nothing',
    'now',
    'nowhere', "o'clock",
    'obviously',
    'occasionally',
    'of',
    'off',
    'officially',
    'often',
    'oh',
    'ok',
    'okay',
    'old',
    'on',
    'once',
    'one',
    'online',
    'only',
    'onto',
    'openly',
    'opposed',
    'or',
    'originally',
    'other',
    'otherwise',
    'our',
    'ours',
    'ourselves',
    'out',
    'outside',
    'over',
    'overall',
    'overnight',
    'own',
    'part',
    'partially',
    'particular',
    'particularly',
    'partly',
    'past',
    'people',
    'per',
    'perfectly',
    'perhaps',
    'personally',
    'physically',
    'place',
    'play',
    'please',
    'plenty',
    'plus',
    'pm',
    'politically',
    'possibly',
    'potentially',
    'practically',
    'precisely',
    'presumably',
    'pretty',
    'previously',
    'primarily',
    'prior',
    'privately',
    'probably',
    'problem',
    'program',
    'properly',
    'provided',
    'public',
    'publicly',
    'put',
    'question',
    'quickly',
    'quietly',
    'quite',
    'rapidly',
    'rarely',
    'rather',
    're',
    'readily',
    'really',
    'recently',
    'regard',
    'regarding',
    'regardless',
    'regularly',
    'relatively',
    'repeatedly',
    'reportedly',
    'respect',
    'respectively',
    'response',
    'right',
    'roughly',
    'routinely',
    'safely',
    'same',
    'say',
    'school',
    'second',
    'see',
    'seem',
    'seemingly',
    'seldom',
    'seriously',
    'seven',
    'seventh',
    'several',
    'severely',
    'sexually',
    'sharply',
    'she',
    'short',
    'shortly',
    'should',
    'show',
    'significantly',
    'similarly',
    'simply',
    'simultaneously',
    'since',
    'six',
    'sixth',
    'slightly',
    'slowly',
    'so',
    'socially',
    'softly',
    'solely',
    'some',
    'somebody',
    'someday',
    'somehow',
    'someone',
    'something',
    'sometime',
    'sometimes',
    'somewhat',
    'somewhere',
    'soon',
    'specifically',
    'spite',
    'start',
    'state',
    'steadily',
    'still',
    'straight',
    'strictly',
    'strongly',
    'student',
    'subject',
    'substantially',
    'successfully',
    'such',
    'sudden',
    'suddenly',
    'supposedly',
    'sure',
    'surely',
    'surprisingly',
    'system',
    'take',
    'talk',
    'tell',
    'ten',
    'terms',
    'terribly',
    'than',
    'that',
    'the',
    'their',
    'them',
    'themselves',
    'then',
    'there',
    'thereby',
    'therefore',
    'these',
    'they',
    'thing',
    'think',
    'third',
    'thirds',
    'thirty',
    'this',
    'thoroughly',
    'those',
    'though',
    'thousand',
    'three',
    'through',
    'throughout',
    'thus',
    'tight',
    'tightly',
    'till',
    'time',
    'to',
    'today',
    'together',
    'tomorrow',
    'tonight',
    'too',
    'top',
    'totally',
    'toward',
    'towards',
    'traditionally',
    'truly',
    'try',
    'turn',
    'twelve',
    'twentieth',
    'twenty',
    'twice',
    'two',
    'typically',
    'uh',
    'ultimately',
    'under',
    'unfortunately',
    'unless',
    'unlike',
    'until',
    'up',
    'upon',
    'upstairs',
    'us',
    'use',
    'usually',
    'versus',
    'very',
    'via',
    'virtually',
    'vs',
    'want',
    'way',
    'we',
    'week',
    'well',
    'what',
    'whatever',
    'when',
    'whenever',
    'where',
    'whereas',
    'wherever',
    'whether',
    'which',
    'while',
    'who',
    'whoever',
    'whom',
    'whose',
    'why',
    'widely',
    'will',
    'with',
    'within',
    'without',
    'woman',
    'work',
    'world',
    'worldwide',
    'worth',
    'would',
    'wow',
    'wrong',
    'yeah',
    'year',
    'yes',
    'yesterday',
    'yet',
    'you',
    'your',
    'yours',
    'yourself',
    
    # My own additions
    "continue",
    "discuss",
    "feature",
    "end",
    "discussion",
    "execute",
    "intend",
    "related",
    "using",
}

if __name__ == "__main__":
    import doctest

    doctest.testmod()
